<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuaderno Digital UPC</title>
    <link rel="stylesheet" href="estilos/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- PÃ¡gina Principal -->
    <div id="pagina-principal" class="pagina">
        <header class="header-principal">
            <h1><i class="fas fa-graduation-cap"></i> Cuaderno Digital UPC</h1>
            <p>Organiza tus anotaciones acadÃ©micas por asignaturas</p>
        </header>

        <main class="contenedor-asignaturas">
            <div class="grid-asignaturas">
                <!-- Tarjetas de asignaturas se generarÃ¡n dinÃ¡micamente -->
            </div>
            
            <div class="agregar-asignatura">
                <button id="btn-nueva-asignatura" class="btn-agregar">
                    <i class="fas fa-plus"></i> Agregar Nueva Asignatura
                </button>
            </div>
        </main>
    </div>

    <!-- PÃ¡gina de Asignatura -->
    <div id="pagina-asignatura" class="pagina oculto">
        <header class="header-asignatura">
            <button id="btn-volver" class="btn-volver">
                <i class="fas fa-arrow-left"></i> Volver
            </button>
            <h1 id="titulo-asignatura"></h1>
        </header>

        <main class="contenedor-asignatura">
            <!-- BotÃ³n flotante para agregar -->
            <button id="btn-flotante-agregar" class="btn-flotante">
                <i class="fas fa-plus"></i>
            </button>

            <!-- Formulario para agregar contenido (inicialmente oculto) -->
            <section id="seccion-formulario" class="seccion-formulario oculto">
                <div class="formulario-header">
                    <h2>Agregar Nueva Entrada</h2>
                    <button type="button" id="btn-cerrar-formulario" class="btn-cerrar-form">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <form id="formulario-entrada" class="formulario">
                    <div class="campo">
                        <label for="fecha">Fecha:</label>
                        <input type="text" id="fecha" readonly>
                    </div>
                    
                    <div class="campo">
                        <label for="tipo">Tipo de contenido:</label>
                        <select id="tipo" required>
                            <option value="">Selecciona un tipo</option>
                            <option value="AnotaciÃ³n">ğŸ“ AnotaciÃ³n</option>
                            <option value="Tema tratado">ğŸ“š Tema tratado</option>
                            <option value="DefiniciÃ³n del docente">ğŸ‘¨â€ğŸ« DefiniciÃ³n del docente</option>
                            <option value="Actividad pendiente">â° Actividad pendiente</option>
                            <option value="Recurso">ğŸ“ Recurso/Material</option>
                            <option value="Examen">ğŸ“‹ Examen/EvaluaciÃ³n</option>
                        </select>
                    </div>
                    
                    <div class="campo">
                        <label for="contenido">Contenido:</label>
                        <textarea id="contenido" placeholder="Escribe aquÃ­ tu anotaciÃ³n..." required></textarea>
                    </div>

                    <div class="campo">
                        <label for="archivo-imagen">Adjuntar imagen (opcional):</label>
                        <div class="campo-archivo">
                            <input type="file" id="archivo-imagen" accept="image/*" class="input-archivo">
                            <label for="archivo-imagen" class="label-archivo">
                                <i class="fas fa-camera"></i>
                                <span>Seleccionar imagen</span>
                            </label>
                            <div id="preview-imagen" class="preview-imagen oculto">
                                <img id="img-preview" src="" alt="Preview">
                                <button type="button" id="btn-remover-imagen" class="btn-remover-img">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="botones-formulario">
                        <button type="submit" class="btn-guardar">
                            <i class="fas fa-save"></i> Guardar
                        </button>
                        <button type="button" id="btn-cancelar" class="btn-cancelar oculto">
                            <i class="fas fa-times"></i> Cancelar
                        </button>
                    </div>
                </form>
            </section>

            <!-- Buscador -->
            <section class="seccion-busqueda">
                <div class="campo-busqueda">
                    <input type="text" id="busqueda" placeholder="Buscar en las anotaciones...">
                    <i class="fas fa-search"></i>
                </div>
            </section>

            <!-- Lista de entradas -->
            <section class="seccion-entradas">
                <div class="entradas-header">
                    <h2>Mis Entradas</h2>
                    <div class="filtros-entradas">
                        <select id="filtro-tipo" class="filtro-select">
                            <option value="">Todos los tipos</option>
                            <option value="AnotaciÃ³n">ğŸ“ Anotaciones</option>
                            <option value="Tema tratado">ğŸ“š Temas tratados</option>
                            <option value="DefiniciÃ³n del docente">ğŸ‘¨â€ğŸ« Definiciones</option>
                            <option value="Actividad pendiente">â° Actividades pendientes</option>
                            <option value="Recurso">ğŸ“ Recursos</option>
                            <option value="Examen">ğŸ“‹ ExÃ¡menes</option>
                        </select>
                    </div>
                </div>
                <div id="lista-entradas" class="lista-entradas">
                    <!-- Las entradas se cargarÃ¡n dinÃ¡micamente -->
                </div>
            </section>
        </main>
    </div>

    <!-- Modal para nueva asignatura -->
    <div id="modal-asignatura" class="modal oculto">
        <div class="modal-contenido">
            <h3>Nueva Asignatura</h3>
            <form id="formulario-asignatura">
                <div class="campo">
                    <label for="nombre-asignatura">Nombre de la asignatura:</label>
                    <input type="text" id="nombre-asignatura" placeholder="Ej: MatemÃ¡ticas" required>
                </div>
                <div class="campo">
                    <label for="icono-asignatura">Icono:</label>
                    <select id="icono-asignatura">
                        <option value="fas fa-calculator">ğŸ§® MatemÃ¡ticas</option>
                        <option value="fas fa-code">ğŸ’» ProgramaciÃ³n</option>
                        <option value="fas fa-database">ğŸ—„ï¸ Bases de Datos</option>
                        <option value="fas fa-network-wired">ğŸŒ Redes</option>
                        <option value="fas fa-flask">ğŸ§ª QuÃ­mica</option>
                        <option value="fas fa-atom">âš›ï¸ FÃ­sica</option>
                        <option value="fas fa-chart-line">ğŸ“Š EstadÃ­stica</option>
                        <option value="fas fa-book">ğŸ“š General</option>
                        <option value="fas fa-language">ğŸ—£ï¸ Idiomas</option>
                        <option value="fas fa-briefcase">ğŸ’¼ Negocios</option>
                    </select>
                </div>
                <div class="botones-modal">
                    <button type="submit" class="btn-guardar">Crear</button>
                    <button type="button" id="btn-cerrar-modal" class="btn-cancelar">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para ver entrada completa -->
    <div id="modal-entrada" class="modal oculto">
        <div class="modal-contenido modal-entrada-contenido">
            <div class="modal-entrada-header">
                <h3 id="modal-entrada-tipo"></h3>
                <button type="button" id="btn-cerrar-modal-entrada" class="btn-cerrar-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-entrada-body">
                <div class="entrada-fecha-completa" id="modal-entrada-fecha"></div>
                <div class="entrada-contenido-completo" id="modal-entrada-contenido"></div>
                <div class="entrada-imagen-completa" id="modal-entrada-imagen"></div>
            </div>
            
            <div class="modal-entrada-footer">
                <button type="button" id="btn-editar-modal" class="btn-editar">
                    <i class="fas fa-edit"></i> Editar
                </button>
                <button type="button" id="btn-eliminar-modal" class="btn-eliminar">
                    <i class="fas fa-trash"></i> Eliminar
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="scripts/firebase-config.js"></script>
    <script src="scripts/main.js"></script>
</body>
</html>